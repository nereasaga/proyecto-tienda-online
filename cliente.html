<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Iniciar Sesión</title>
  <link rel="stylesheet" href="./styles/mainstyle.css">
  <link rel="stylesheet" href="./styles/cliente.css">
</head>

<body>
  <nav id="navbar">
    <div id="logonav">
      <a href="./index.html"><img src="./img/ghari-logo-h-1.svg" alt="Logo Ghari Relojes"></a>
    </div>

    <div id="menunav">
      <ul>
        <li><a id="menu-mujer" href="#">Mujer</a></li>
        <li><a id="menu-hombre" href="#">Hombre</a></li>
        <li><a id="menu-unisex" href="#">Unisex</a></li>
        <li><a id="menu-catalogo" href="catalogo.html">Catálogo</a></li>
        <li><a id="menu-contacto" href="#">Contacto</a></li>
      </ul>

    </div>
    <div id="timenav">
      <p id="fecha"></p>
      <p id="hora"></p>

    </div>
    <div id="funcionesnav">
      <div id="idiomanav">
        <ul>
          <li id="espanol"><a href="#">ES</a></li>
          <li id="english"><a href="#">EN</a></li>
          <li id="euskara"><a href="#">EUS</a></li>
        </ul>

      </div>
      <div id="clientesnav">
        <ul>
          <li id="icono-cesta"><a href="carrito.html"><img src="./img/bolsa-de-la-compra.png" alt="Cesta"></a></li>
          <li id="icono-clientes"><a href="cliente.html"><img src="./img/usuario.png" alt="Área clientes"></a></li>
        </ul>
      </div>


      <!--nav for tablet version-->

      <!-- Hamburger Menu (Checkbox) -->
      <input type="checkbox" id="hamburger-toggle">
      <label for="hamburger-toggle" class="hamburger">
        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="20" viewBox="0 0 40 20">
          <rect x="0" y="0" width="40" height="4" fill="black" rx="2" />
          <rect x="0" y="12" width="40" height="4" fill="black" rx="2" />
        </svg>

      </label>



      <!-- Hamburger Menu Content -->
      <div id="menu-container">



        <div id="menuContent">
          <ul>
            <li><a id="menu-mujer-2" href="#">Mujer</a></li>
            <hr>

            <li><a id="menu-hombre-2" href="#">Hombre</a></li>
            <hr>
            <li><a id="menu-unisex-2" href="#">Unisex</a></li>
            <hr>
            <li><a id="menu-catalogo-2" href="catalogo.html">Catálogo</a></li>
            <hr>
            <li><a id="menu-contacto-2" href="#">Contacto</a></li>
            <hr>
          </ul>
        </div>

        <div id="idiomaContent">
          <ul>
            <li><a id="espanol-2" href="#">ES</a></li>
            <li><a id="english-2" href="#">EN</a></li>
            <li><a id="euskara-2" href="#">EUS</a></li>

          </ul>
        </div>
      </div>
  </nav>
  <main>

    <div class="div-title">
      <h1 id="h1-cuenta">Mi Cuenta</h1>
    </div>

    <div class="container">
      <!-- Sección del formulario de registro -->
      <div class="form-section" id="register-section">
        <h2 id="h2-cuenta">No tengo una cuenta</h2>
        <p id="p-cuenta">Crea una cuenta en GHARI RELOJES para beneficiarte de nuestros servicios exclusivos y
          mantenerte al día con nuestras publicaciones más recientes.</p>
        <a class="btn" id="create-account-btn">Crear una Cuenta</a>
      </div>

      <!-- Formulario de Registro oculto por defecto -->
      <div class="form-section hidden" id="register-form">
        <h2 id="h2-registro">Formulario de Registro</h2>
        <input id="ph-nombre" type="text" placeholder="Nombre">
        <input id="ph-apellidos" type="text" placeholder="Apellidos">
        <input id="ph-direccion" type="text" placeholder="Dirección">
        <input id="ph-ciudad" type="text" placeholder="Ciudad">
        <input id="ph-CP" type="number" placeholder="Código postal">
        <input id="ph-provincia" type="text" placeholder="Provincia">
        <input id="ph-pais" type="text" placeholder="País">
        <input id="ph-tfno" type="text" placeholder="Teléfono">
        <input id="ph-mail" type="email" placeholder="Correo electrónico">
        <button id="btn-registro" class="btn">Registrarse</button>
      </div>

      <!-- Sección de iniciar sesión -->
      <div class="form-section" id="login-section">
        <h2 id="h2-cuenta-2">Tengo una cuenta</h2>
        <form id="login-form">
          <input id="correoRecogido" type="email" placeholder="Dirección de correo electrónico" required>
          <input id="claveRecogida" type="password" placeholder="Contraseña" required>
          <p><a id="a-pass" href="#" class="forgot-password">¿Olvidó su contraseña?</a></p>
          <button id="btn-inicio" type="submit" class="btn">Iniciar Sesión</button>
        </form>

        <!-- mensaje error -->
        <p id="error-message" class="hidden error">Correo o contraseña incorrecta</p>
      </div>
    </div>

    <!-- Secciones de bienvenida e error -->
    <!-- <div id="welcome-section" class="hidden">
      <h2 id="h2-bienvenido">¡Bienvenido/a a GHARI RELOJES!</h2>
      <p id="p-bienvenido">Gracias por iniciar sesión. Ahora puedes explorar nuestros servicios.</p>
    </div> -->

    <div id="incorrect-section" class="hidden">
      <h2 id="h2-wrong-pass">¡Contraseña incorrecta!</h2>
      <p id="p-wrong-pass">Inténtalo de nuevo.</p>
    </div>
  </main>
  <footer class="footer">
    <!---  LOGO FOOTER   --->
    <div id="div-footer-logo">
      <img src="./img/ghari-logo-v-2.svg" alt="Logo Ghari">
    </div>
    <!---  COLUMNAS FOOTER   --->
    <div id="div-footer-columnas">
      <!--   COLUMNA 1   -->
      <div id="div-footer-columna-1" class="div-footer-columna">
        <h3 id="footer-h3-1" class="titulo-footer">Atención al cliente</h3>
        <ul>
          <li id="footer-ul-1-li-1">Lunes a Viernes de 9 a 18h</li>
          <li id="footer-ul-1-li-2"><a href="#">Whatsapp</a></li>
          <li id="footer-ul-1-li-3"><a href="#">Envíanos un e-mail</a></li>
          <li id="footer-ul-1-li-4"><a href="#">¿Necesitas ayuda?</a></li>
        </ul>

      </div>
      <!--   COLUMNA 2   -->
      <div id="div-footer-columna-2" class="div-footer-columna">
        <h3 id="footer-h3-2" class="titulo-footer">Sobre nosotros</h3>
        <ul>
          <li id="footer-ul-2-li-1"><a href="#">Conoce Ghari</a></li>
          <li id="footer-ul-3-li-1"><a href="#">Condiciones de uso</a></li>
          <li id="footer-ul-3-li-2"><a href="#">Cambios y devoluciones</a></li>
          <li id="footer-ul-3-li-3"><a href="#">Cuida tu reloj</a></li>
          <li id="footer-ul-3-li-4"><a href="#">Pago seguro</a></li>
          <li id="footer-ul-3-li-5"><a href="#">Guía de tallas</a></li>
        </ul>

      </div>
      <!--   COLUMNA 3   -->
      <div id="div-footer-columna-3" class="div-footer-columna">
        <h3 id="footer-h3-3" class="titulo-footer">Información</h3>
        <ul>
          <li><a href="#">Condiciones de uso</a></li>
          <li><a href="#">Cambios y devoluciones</a></li>
          <li><a href="#">Cuida tu reloj</a></li>
          <li><a href="#">Pago seguro</a></li>
          <li><a href="#">Guía de tallas</a></li>
        </ul>

      </div>
    </div>
    <div class="copyright">
      <p id="p-copy">Copyright GHARI RELOJES. Todos los derechos reservados.</p>

    </div>
  </footer>


  <script>
    document.addEventListener('DOMContentLoaded', function () {
      let idiomaActual = 'es-ES';
      let producto = localStorage.getItem("producto");
      let productoJSON = JSON.parse(producto);

      let idiomaSeleccionado = localStorage.getItem('idiomaSeleccionado') || 'es';
      let idiomaSeleccionado2 = localStorage.getItem('idiomaSeleccionado2') || 'es-ES';



      // CARGAR CATÁLOGOS EN INICIO Y ACTUALIZAR HORA Y FECHA
      window.onload = function () {
        iniciarIH();
        cambiarIdioma(idiomaSeleccionado);
        console.log(idiomaSeleccionado);
        console.log(idiomaSeleccionado2);

      };

      //CAMBIAR IDIOMA Y DATOS RELOJES

      function cambiarIdioma(idioma) {
        let archivoIdioma = "json/" + idioma + ".json";
        let archivoCatalogo = "json/catalogo-" + idioma + ".json";

        // CAMBIAR IDIOMA DE TEXTOS
        fetch(archivoIdioma)
          .then(function (respuesta) {
            return respuesta.json();
          })

          .then(function (data) {
            for (let key in data) {
              let elemento = document.getElementById(key);
              if (elemento) {
                if (key.startsWith('ph-')) {
                  elemento.setAttribute('placeholder', data[key]);
                } else {
                  elemento.textContent = data[key];
                }
              }
            }
          });
      };

      // CAMBIAR A INGLÉS
      const btnEn = document.getElementById('english');
      btnEn.addEventListener("click", function () {
        cambiarIdioma("en");
        localStorage.setItem('idiomaSeleccionado', 'en');
        localStorage.setItem('idiomaSeleccionado2', 'en-GB');
        idiomaSeleccionado = "en",
          idiomaSeleccionado2 = "en-GB";
        iniciarIH();
      });

      // CAMBIAR A ESPAÑOL
      const btnEs = document.getElementById('espanol');
      btnEs.addEventListener("click", function () {
        cambiarIdioma("es");
        localStorage.setItem('idiomaSeleccionado', 'es');
        localStorage.setItem('idiomaSeleccionado2', 'es-ES');
        idiomaSeleccionado = "es",
          idiomaSeleccionado2 = "es-ES";
        iniciarIH();
      });

      // CAMBIAR A EUSKERA
      const btnEus = document.getElementById('euskara');
      btnEus.addEventListener("click", function () {
        cambiarIdioma("eus");
        localStorage.setItem('idiomaSeleccionado', 'eus');
        localStorage.setItem('idiomaSeleccionado2', 'eus');
        idiomaSeleccionado = "eus",
          idiomaSeleccionado2 = "eus";
        iniciarIH();
      });

      // CARGAR HORA Y FECHA 
      function iniciarIH() {
        let intervaloHora;
        if (intervaloHora) {
          clearInterval(intervaloHora);
        }
        intervaloHora = setInterval(function () {
          F5time(idiomaSeleccionado2);
        }, 1000);
      }

      // FUNCIÍN PARA HORA Y FECHA
      function F5time(idioma = 'es-ES') {
        const fechaElemento = document.getElementById("fecha");
        const horaElemento = document.getElementById("hora");
        const ahora = new Date();
        const opcionesFecha = { weekday: 'long', day: '2-digit', month: 'long', year: 'numeric' };
        const fechaFormateada = ahora.toLocaleDateString(idioma, opcionesFecha);
        const horaFormateada = ahora.toLocaleTimeString(idioma, { hour: '2-digit', minute: '2-digit', second: '2-digit' });

        fechaElemento.textContent = fechaFormateada.charAt(0).toUpperCase() + fechaFormateada.slice(1);
        horaElemento.textContent = horaFormateada;
      }
    });

    // Mostrar formulario registro
    document.getElementById("create-account-btn").addEventListener("click", function () {
      const registerForm = document.getElementById("register-form");
      const registerSection = document.getElementById("register-section");
      const loginSection = document.getElementById("login-section");
      // Mostrar formulario de registro y ocultar login
      registerSection.classList.add("hidden");
      loginSection.classList.add("hidden");
      registerForm.classList.remove("hidden");
    });

    let correoRegistrado = "aleezas947@gmail.com";
    let claveRegistrada = "123456";

    document.getElementById("login-form").addEventListener("submit", function (event) {
      event.preventDefault();
      let correoRecogido = document.getElementById("correoRecogido").value.toLowerCase();
      let claveRecogida = document.getElementById("claveRecogida").value;

      if (correoRecogido === correoRegistrado && claveRecogida === claveRegistrada) {
        document.querySelector(".container").classList.add("hidden");
        // document.getElementById("welcome-section").classList.remove("hidden");
        console.log('Login correcto');
          if(idiomaSeleccionado === "es") {
            document.querySelector('MAIN').innerHTML = ` <div id="welcome-section" class="hidden">
        <h2 id="h2-bienvenido">¡Hola ${correoRegistrado}!</h2>
        <p id="p-bienvenido">Gracias por iniciar sesión. Ahora puedes explorar nuestros servicios.</p>
      </div>`
          } else if (idiomaSeleccionado === 'en') {
            document.querySelector('MAIN').innerHTML = ` <div id="welcome-section" class="hidden">
      <h2 id="h2-bienvenido">Hi ${correoRegistrado}!</h2>
      <p id="p-bienvenido">Thank you for logging in. You can now explore our services.</p>
    </div>`
          } else {
            document.querySelector('MAIN').innerHTML = ` <div id="welcome-section" class="hidden">
      <h2 id="h2-bienvenido">Kaixo ${correoRegistrado}!</h2>
      <p id="p-bienvenido">Eskerrik asko saioa hasteagatik. Orain gure zerbitzuak esploratu ditzakezu.</p>
    </div>`
          }
        
      } else {
        document.getElementById("error-message").classList.remove("hidden");
        document.getElementById("incorrect-section").classList.remove("hidden");
      }
    })

    // function mostrarBienvenida(event) {
    //   event.preventDefault(); // Previene envío del formulario
    //   document.querySelector(".container").classList.add("hidden"); // Oculta formulario
    //   document.getElementById("welcome-section").classList.remove("hidden"); // Muestra bienvenida
    // }

    // Asocia el evento al formulario
    document.getElementById("login-form").addEventListener("submit", function (event) {
      event.preventDefault();
      let correoRecogido = document.getElementById("correoRecogido").value;
      let claveRecogida = document.getElementById("claveRecogida").value;

      correoRecogido = correoRecogido.toLowerCase();
      // claveRecogida=parseInt(claveRecogida);

      if (correoRecogido === correoRegistrado && claveRecogida === claveRegistrada) {
        document.querySelector(".container").classList.add("hidden");
        // document.getElementById("welcome-section").classList.remove("hidden");


      } else {
        document.getElementById("error-message").classList.remove("hidden");
        document.getElementById("incorrect-section").classList.remove("hidden");
      }
    });


  </script>

</body>

</html>